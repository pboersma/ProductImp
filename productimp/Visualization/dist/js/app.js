(function(){"use strict";var e={6030:function(e,t,a){var r=a(9242),o=a(3494),s=a(7749),d=a(8429),l=a(8539),n=a(3396),i=a(4870),u=a(65),c=a(6265),g=a.n(c);const p=()=>g().get("https://boersma.dev/wp-json/productimp/v1/gatekeeper/authorized").then((e=>401!==e.data.status)).catch((e=>(console.debug(e),!0)));var b={namespaced:!0,state:{authorized:!1},getters:{isAuthorized:e=>e.authorized},mutations:{SET_AUTHORIZED(e,t){e.authorized=t}},actions:{async authorized({commit:e}){const t=await p();return new Promise(((a,r)=>{e("SET_AUTHORIZED",t),a(t)}))}}},m={namespaced:!0,state:{page:"products"},getters:{currentPage:e=>e.page},mutations:{SET_PAGE(e,t){e.page=t}},actions:{setPage({commit:e},t){e("SET_PAGE",t)}}};const h=()=>g().get("https://boersma.dev/wp-json/productimp/v1/datasources/list").then((e=>e.data.data)).catch((e=>{console.debug(e)})),f=e=>g().post("https://boersma.dev/wp-json/productimp/v1/datasources/read",{id:e}).then((e=>e.data.data)).catch((e=>{console.debug(e)})),y=e=>g().post("https://boersma.dev/wp-json/productimp/v1/datasources/create",e).then((e=>!0)),v=e=>g().post("https://boersma.dev/wp-json/productimp/v1/datasources/delete",{id:e}).then((e=>!0)),x=e=>g().post("https://boersma.dev/wp-json/productimp/v1/datasources/sync",e).then((e=>(console.log(e),!0)));var w={namespaced:!0,state:{dataSources:[]},getters:{allDataSources:e=>e.dataSources},mutations:{SET_DATASOURCES(e,t){e.dataSources=t}},actions:{async fetchAll({commit:e}){const t=await h();return new Promise(((a,r)=>{e("SET_DATASOURCES",t),a(t)}))},async fetchSingle({commit:e},t){const a=await f(t);return new Promise(((t,r)=>{e("SET_DATASOURCE",a),t(a)}))},async create({commit:e},t){return new Promise(((a,r)=>{const o=y(t);o||r(o);const s=h();e("SET_DATASOURCES",s),a(o)}))},async delete({commit:e},t){return new Promise(((e,a)=>{const r=v(t);r||a(r),e(r)}))}}};const k=()=>g().get("https://boersma.dev/wp-json/productimp/v1/products/list").then((e=>e.data.data)).catch((e=>(console.debug(e),!0))),_=(e,t)=>g().post("https://boersma.dev/wp-json/productimp/v1/products/map",{product_id:e,map:t}).then((e=>(console.log(e),!0))),S=()=>g().get("https://boersma.dev/wp-json/productimp/v1/products/map").then((e=>e.data.data)).catch((e=>(console.debug(e),!0)));var C={namespaced:!0,state:{products:[],mappings:[]},getters:{allProducts:e=>e.products.map((e=>({id:e.id,source:e.datasource_id,product:JSON.parse(e.product)}))),allMappings:e=>e.mappings},mutations:{SET_PRODUCTS(e,t){e.products=t},SET_MAPPINGS(e,t){e.mappings=t}},actions:{async fetchAll({commit:e}){const t=await k();return new Promise(((a,r)=>{e("SET_PRODUCTS",t),a(t)}))},async getMappings({commit:e}){const t=await S();return new Promise(((a,r)=>{e("SET_MAPPINGS",t),a(t)}))}}},D=new u.ZP.Store({modules:{authorization:b,navigation:m,datasources:w,products:C}}),P=a(7139);const M={class:"bg-gray-800"},j={class:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8"},A={class:"relative flex items-center justify-between h-16"},U=(0,n.uE)('<div class="absolute inset-y-0 left-0 flex items-center sm:hidden"><button type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" aria-controls="mobile-menu" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path></svg><svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>',1),z=(0,n._)("div",{class:"flex-shrink-0 flex items-center"},[(0,n._)("h2",{class:"font-bold text-white"},"ProductImp")],-1),H={class:"hidden sm:block sm:ml-6"},E={key:0,class:"flex space-x-4"},O={key:1},T=["href"],q=(0,n._)("div",{class:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},null,-1),R=(0,n._)("div",{class:"sm:hidden",id:"mobile-menu"},[(0,n._)("div",{class:"px-2 pt-2 pb-3 space-y-1"},[(0,n._)("a",{href:"#",class:"bg-gray-900 text-white block px-3 py-2 rounded-md text-base font-medium","aria-current":"page"},"Products"),(0,n._)("a",{href:"#",class:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium"},"Datasources")])],-1);var W=(0,n.aZ)({__name:"NavigationBar",setup(e){const t=(0,n.Fl)((()=>D.getters["navigation/currentPage"])),a=(0,n.Fl)((()=>D.getters["authorization/isAuthorized"])),r=(0,n.Fl)((()=>`${window.location.origin}/wp-json/productimp/v1/gatekeeper/generate`));return(e,o)=>((0,n.wg)(),(0,n.iD)("nav",M,[(0,n._)("div",j,[(0,n._)("div",A,[U,(0,n._)("div",{class:(0,P.C_)(["flex-1 flex items-center justify-center sm:items-stretch",{"sm:place-content-between":!(0,i.SU)(a),"sm:justify-start":(0,i.SU)(a)}])},[z,(0,n._)("div",H,[(0,i.SU)(a)?((0,n.wg)(),(0,n.iD)("div",E,[(0,n._)("button",{onClick:o[0]||(o[0]=e=>(0,i.SU)(D).dispatch("navigation/setPage","products")),class:(0,P.C_)([["products"===(0,i.SU)(t)?["bg-gray-900","text-white"]:["hover:bg-gray-700","hover:text-white"]],"text-gray-300 px-3 py-2 rounded-md text-sm font-medium"]),"aria-current":"page"}," Products ",2),(0,n._)("button",{onClick:o[1]||(o[1]=e=>(0,i.SU)(D).dispatch("navigation/setPage","datasources")),class:(0,P.C_)([["datasources"===(0,i.SU)(t)?["bg-gray-900","text-white"]:["hover:bg-gray-700","hover:text-white"]],"text-gray-300 px-3 py-2 rounded-md text-sm font-medium"])}," Datasources ",2)])):((0,n.wg)(),(0,n.iD)("div",O,[(0,n._)("a",{href:(0,i.SU)(r),class:"px-4 py-2 outline-none border-2 border-red-400 rounded text-red-500 font-medium active:scale-95 hover:bg-red-600 hover:text-white hover:border-transparent focus:bg-red-600 focus:text-white focus:border-transparent focus:ring-2 focus:ring-red-600 focus:ring-offset-2 disabled:bg-gray-400/80 disabled:shadow-none disabled:cursor-not-allowed transition-colors duration-200"}," Authorize ",8,T)]))])],2),q])]),R]))}});const F=W;var I=F;const Z={class:"mx-auto p-4 w-full max-w-2xl h-full md:h-auto"},B={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},N={class:"flex justify-between items-start p-4 rounded-t border-b dark:border-gray-600"},Y=(0,n._)("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Product Information ",-1),$=(0,n.Uk)(" x "),V=(0,n._)("span",{class:"sr-only"},"Close modal",-1),G=[$,V],K={class:"p-1 space-y-6 h-96",style:{"overflow-y":"auto"}},J={class:"text-sm text-left text-gray-500 dark:text-gray-400"},L={class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap",style:{width:"1%"}},Q={class:"px-6 py-4"},X={class:"flex items-center p-6 space-x-2 rounded-b border-t border-gray-200 dark:border-gray-600"};var ee=(0,n.aZ)({__name:"ProductInfoModal",props:{visible:Boolean,currentProduct:String},emits:["closeProductInfoModal"],setup(e,{emit:t}){(0,i.iH)(!1),(0,i.iH)(!1);return(t,a)=>((0,n.wg)(),(0,n.iD)("div",{id:"sync-data-modal",tabindex:"-1","aria-hidden":"true",class:(0,P.C_)([{hidden:!e.visible},"bgblackopacitied absolute top-0 right-0 left-0 z-50 w-full md:inset- h-screen md:h-screen pt-20"])},[(0,n._)("div",Z,[(0,n._)("div",B,[(0,n._)("div",N,[Y,(0,n._)("button",{type:"button",onClick:a[0]||(a[0]=e=>t.$emit("closeProductInfoModal")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"syncDataSourceModal"},G)]),(0,n._)("div",K,[(0,n._)("table",J,[(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.currentProduct,((e,t)=>((0,n.wg)(),(0,n.iD)("tr",{key:t,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[(0,n._)("td",L,(0,P.zw)(t),1),(0,n._)("td",Q,(0,P.zw)(e),1)])))),128))])])]),(0,n._)("div",X,[(0,n._)("button",{"data-modal-toggle":"defaultModal",onClick:a[1]||(a[1]=e=>t.$emit("closeProductInfoModal")),type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Close ")])])])],2))}});const te=ee;var ae=te,re=a(3029);const oe={class:"mapping-row bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},se={class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},de=["disabled"],le={class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},ne={class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},ie=["disabled"],ue={class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},ce={class:"-mx-2"};var ge=(0,n.aZ)({__name:"MappingRow",props:{mappingData:Object},emits:["mappingRowSaved","mappingRowRemoved"],setup(e,{emit:t}){const a=e,o=(0,i.iH)(!1),s=(0,i.iH)({...a.mappingData}),d=()=>{t("mappingRowRemoved",s)},l=()=>{o.value=!0},u=()=>{t("mappingRowSaved",s),o.value=!1};return(e,t)=>{const a=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("tr",oe,[(0,n._)("td",se,[(0,n.wy)((0,n._)("input",{disabled:!o.value,class:(0,P.C_)([{"cursor-no-drop":!o.value},"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"]),type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.value.product_field_id=e),id:"product_field_id",placeholder:"Product Field",required:""},null,10,de),[[r.nr,s.value.product_field_id]])]),(0,n._)("td",le,[(0,n.Wm)(a,{icon:"fa-solid fa-arrow-right-long"})]),(0,n._)("td",ne,[(0,n.wy)((0,n._)("input",{disabled:!o.value,class:(0,P.C_)([{"cursor-no-drop":!o.value},"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"]),type:"text",id:"woocommerce_field_id","onUpdate:modelValue":t[1]||(t[1]=e=>s.value.woocommerce_field_id=e),placeholder:"Woocommerce Field",required:""},null,10,ie),[[r.nr,s.value.woocommerce_field_id]])]),(0,n._)("td",ue,[(0,n._)("div",ce,[o.value?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:t[2]||(t[2]=e=>u()),class:"mx-2"},[(0,n.Wm)(a,{icon:"fa-solid fa-floppy-disk"})])):(0,n.kq)("",!0),o.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:1,onClick:t[3]||(t[3]=e=>l()),class:"mx-2"},[(0,n.Wm)(a,{icon:"fa-solid fa-pen-to-square"})])),(0,n._)("button",{onClick:t[4]||(t[4]=e=>d()),class:"mx-2"},[(0,n.Wm)(a,{icon:"fa-solid fa-times"})])])])])}}});const pe=ge;var be=pe;const me={class:"mx-auto p-4 w-full max-w-2xl h-full md:h-auto"},he={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},fe={class:"flex justify-between items-start p-4 rounded-t border-b dark:border-gray-600"},ye={class:"flex justify-between w-full"},ve=(0,n._)("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Map Product ",-1),xe=(0,n.Uk)(" Add Mapping "),we={class:"p-1 space-y-6 h-96",style:{"overflow-y":"auto"}},ke={class:"text-sm text-left text-gray-500 dark:text-gray-400"},_e={key:0},Se=(0,n._)("td",{class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"}," No Mappings configured yet. ",-1),Ce=[Se],De={class:"flex items-center p-6 space-x-2 rounded-b border-t border-gray-200 dark:border-gray-600"};var Pe=(0,n.aZ)({__name:"ProductMap",props:{visible:Boolean,currentProduct:Object},emits:["closeProductMapModal"],setup(e,{emit:t}){const a=e,r=(0,i.iH)(a.currentProduct.map??[]),o=e=>{const t=r.value.findIndex((t=>t.id===e.value.id));r.value[t]=e.value},s=e=>{const t=r.value.findIndex((t=>t.id===e.value.id));t>-1&&r.value.splice(t,1)},d=()=>{r.value.push({id:(0,re.Z)()})},l=()=>{_(a.currentProduct.id,r.value),t("closeProductMapModal")};return(t,a)=>{const i=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",{id:"sync-data-modal",tabindex:"-1","aria-hidden":"true",class:(0,P.C_)([{hidden:!e.visible},"bgblackopacitied absolute top-0 right-0 left-0 z-50 w-full md:inset- h-screen md:h-screen pt-20"])},[(0,n._)("div",me,[(0,n._)("div",he,[(0,n._)("div",fe,[(0,n._)("div",ye,[ve,(0,n._)("button",{onClick:a[0]||(a[0]=e=>d()),class:"px-4 py-2 outline-none border-2 border-blue-400 rounded text-blue-500 font-medium active:scale-95 hover:bg-blue-600 hover:text-white hover:border-transparent focus:bg-blue-600 focus:text-white focus:border-transparent focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 disabled:bg-gray-400/80 disabled:shadow-none disabled:cursor-not-allowed transition-colors duration-200"},[(0,n.Wm)(i,{icon:"fa-solid fa-plus"}),xe])])]),(0,n._)("div",we,[(0,n._)("table",ke,[(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.value,(e=>((0,n.wg)(),(0,n.j4)(be,{key:e.id,"mapping-data":e,onMappingRowSaved:o,onMappingRowRemoved:s},null,8,["mapping-data"])))),128)),r.value.length?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("tr",_e,Ce))])])]),(0,n._)("div",De,[(0,n._)("button",{onClick:l,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Save "),(0,n._)("button",{"data-modal-toggle":"defaultModal",onClick:a[1]||(a[1]=e=>t.$emit("closeProductMapModal")),type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Cancel ")])])])],2)}}});const Me=Pe;var je=Me;const Ae={class:"container mx-auto px-5 pt-10"},Ue=(0,n._)("div",{class:"mb-5 flex justify-between"},[(0,n._)("h2",{class:"text-2xl font-light"},"Products")],-1),ze={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},He={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},Ee=(0,n._)("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[(0,n._)("tr",null,[(0,n._)("th",{scope:"col",class:"px-6 py-3"}),(0,n._)("th",{scope:"col",class:"px-6 py-3"},"Name"),(0,n._)("th",{scope:"col",class:"px-6 py-3"},"Synced"),(0,n._)("th",{scope:"col",class:"px-6 py-3"},"Mapped"),(0,n._)("th",{scope:"col",class:"px-6 py-3"},"Actions")])],-1),Oe={key:0},Te={class:"px-6 py-4 text-gray-900 dark:text-white",style:{width:"1%"}},qe=["onClick"],Re={scope:"row",class:"px-6 py-4 font-light text-gray-900 dark:text-white whitespace-nowrap"},We={scope:"row",class:"px-6 py-4 font-light text-gray-900 dark:text-white whitespace-nowrap"},Fe={scope:"row",class:"px-6 py-4 font-light text-gray-900 dark:text-white whitespace-nowrap"},Ie={class:"px-6 py-4 flex"},Ze=["onClick"],Be=["onClick"];var Ne=(0,n.aZ)({__name:"ProductsPage",setup(e){const t=(0,i.iH)(!0),a=(0,i.iH)(),r=(0,i.iH)(!1),o=(0,i.iH)(!1),s=(0,n.Fl)((()=>D.getters["products/allProducts"])),d=(0,n.Fl)((()=>D.getters["products/allMappings"])),l=(0,i.iH)([]),u=()=>{const e=[D.dispatch("products/fetchAll"),D.dispatch("products/getMappings")];Promise.all(e).then((e=>{l.value=s.value.map(((e,t)=>{if(!d.value[t])return{...e,map:[]};if(d.value[t].product_id!==e.id)return{...e,map:[]};const a=JSON.parse(d.value[t].map);return{...e,map:a}})),t.value=!1,Promise.resolve()}))},c=((0,i.iH)(!1),(e=null)=>{a.value=e,r.value=!r.value}),g=(e=null)=>{console.log(e),a.value=e,o.value=!o.value};return(0,n.bv)((()=>{u()})),(e,s)=>{const d=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",Ae,[Ue,(0,n._)("div",ze,[(0,n._)("table",He,[Ee,t.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("tbody",Oe,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.value,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[(0,n._)("td",Te,[(0,n._)("button",{onClick:t=>c(e.product)},[(0,n.Wm)(d,{icon:"fa-regular fa-circle-question"})],8,qe)]),(0,n._)("td",Re,(0,P.zw)(e.product.name_nl),1),(0,n._)("td",We,[e.map.length?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(d,{key:0,class:"text-red-500",icon:"fa-regular fa-circle-xmark"})),e.map.length?((0,n.wg)(),(0,n.j4)(d,{key:1,class:"text-green-500",icon:"fa-regular fa-circle-check"})):(0,n.kq)("",!0)]),(0,n._)("td",Fe,[e.map.length?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(d,{key:0,class:"text-red-500",icon:"fa-regular fa-circle-xmark"})),e.map.length?((0,n.wg)(),(0,n.j4)(d,{key:1,class:"text-green-500",icon:"fa-regular fa-circle-check"})):(0,n.kq)("",!0)]),(0,n._)("td",Ie,[(0,n._)("button",{onClick:t=>g({...e.product,id:e.id,map:e.map}),class:"font-medium text-blue-600 dark:text-blue-500 hover:underline mr-2",title:"Configure Product with WooCommerce"},[(0,n.Wm)(d,{icon:"fa-solid fa-sliders"})],8,Ze),(0,n._)("button",{onClick:t=>g({...e.product,id:e.id,map:e.map}),class:"font-medium text-blue-600 dark:text-blue-500 hover:underline mr-2",title:"Sync to WooCommerce"},[(0,n.Wm)(d,{icon:"fa-solid fa-shop"})],8,Be)])])))),128))]))])])]),a.value?((0,n.wg)(),(0,n.j4)(ae,{key:0,"current-product":a.value,visible:r.value,onCloseProductInfoModal:s[0]||(s[0]=e=>c())},null,8,["current-product","visible"])):(0,n.kq)("",!0),a.value?((0,n.wg)(),(0,n.j4)(je,{key:1,"current-product":a.value,visible:o.value,onCloseProductMapModal:s[1]||(s[1]=e=>g())},null,8,["current-product","visible"])):(0,n.kq)("",!0)],64)}}});const Ye=Ne;var $e=Ye,Ve=a(2492),Ge=a.n(Ve);const Ke={class:"mx-auto p-4 w-full max-w-2xl h-full md:h-auto"},Je={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},Le={class:"flex justify-between items-start p-4 rounded-t border-b dark:border-gray-600"},Qe=(0,n._)("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Add Data Source ",-1),Xe=(0,n.Uk)(" x "),et=(0,n._)("span",{class:"sr-only"},"Close modal",-1),tt=[Xe,et],at={class:"p-6 space-y-6"},rt={class:"mb-6"},ot=(0,n._)("label",{for:"datasource_name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Name ",-1),st={class:"mb-6"},dt=(0,n._)("label",{for:"datasource_url",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"URL",-1),lt={class:"flex justify-between"},nt={class:"mb-6"},it=(0,n._)("label",{for:"datasource_username",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Username",-1),ut={class:"mb-6"},ct=(0,n._)("label",{for:"datasource_password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Password",-1),gt={class:"flex items-center p-6 space-x-2 rounded-b border-t border-gray-200 dark:border-gray-600"};var pt=(0,n.aZ)({__name:"AddDataSourceModal",props:{visible:Boolean},emits:["closeAddDataSourceModal","refetchDataSources"],setup(e,{emit:t}){(0,i.iH)(!1);const a=(0,i.iH)({datasource_name:null,datasource_url:null,datasource_credentials:{username:null,password:null}}),o=()=>{D.dispatch("datasources/create",a.value),a.value={datasource_name:null,datasource_url:null,datasource_credentials:{username:null,password:null}},t("refetchDataSources"),t("closeAddDataSourceModal")};return(t,s)=>((0,n.wg)(),(0,n.iD)("div",{id:"defaultModal",tabindex:"-1","aria-hidden":"true",class:(0,P.C_)([{hidden:!e.visible},"bgblackopacitied absolute top-0 right-0 left-0 z-50 w-full md:inset-0 h-screen md:h-screen pt-20"])},[(0,n._)("div",Ke,[(0,n._)("div",Je,[(0,n._)("div",Le,[Qe,(0,n._)("button",{type:"button",onClick:s[0]||(s[0]=e=>t.$emit("closeAddDataSourceModal")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"defaultModal"},tt)]),(0,n._)("div",at,[(0,n._)("form",null,[(0,n._)("div",rt,[ot,(0,n.wy)((0,n._)("input",{type:"text",id:"datasource_name","onUpdate:modelValue":s[1]||(s[1]=e=>a.value.datasource_name=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"De Eekhoorn",required:""},null,512),[[r.nr,a.value.datasource_name]])]),(0,n._)("div",st,[dt,(0,n.wy)((0,n._)("input",{type:"text",id:"datasource_url",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"https://www.google.nl/","onUpdate:modelValue":s[2]||(s[2]=e=>a.value.datasource_url=e),required:""},null,512),[[r.nr,a.value.datasource_url]])]),(0,n._)("div",lt,[(0,n._)("div",nt,[it,(0,n.wy)((0,n._)("input",{type:"text",id:"datasource_username",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-max p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500","onUpdate:modelValue":s[3]||(s[3]=e=>a.value.datasource_credentials.username=e),placeholder:"johndoe@gmail.com",required:""},null,512),[[r.nr,a.value.datasource_credentials.username]])]),(0,n._)("div",ut,[ct,(0,n.wy)((0,n._)("input",{type:"password",id:"datasource_password","onUpdate:modelValue":s[4]||(s[4]=e=>a.value.datasource_credentials.password=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-max p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[r.nr,a.value.datasource_credentials.password]])])])])]),(0,n._)("div",gt,[(0,n._)("button",{"data-modal-toggle":"defaultModal",type:"button",onClick:s[5]||(s[5]=e=>o()),class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Save "),(0,n._)("button",{"data-modal-toggle":"defaultModal",onClick:s[6]||(s[6]=e=>t.$emit("closeAddDataSourceModal")),type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Cancel ")])])])],2))}});const bt=pt;var mt=bt;const ht={class:"mx-auto p-4 w-full max-w-2xl h-full md:h-auto"},ft={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},yt={class:"flex justify-between items-start p-4 rounded-t border-b dark:border-gray-600"},vt=(0,n._)("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Sync Data Source ",-1),xt=(0,n.Uk)(" x "),wt=(0,n._)("span",{class:"sr-only"},"Close modal",-1),kt=[xt,wt],_t=(0,n._)("div",{class:"p-1 space-y-6"},[(0,n._)("div",{class:"rounded-lg w-100 text-white bg-black p-3",style:{height:"25em"}},[(0,n._)("ul",{class:"text-sm"})])],-1),St={class:"flex items-center p-6 space-x-2 rounded-b border-t border-gray-200 dark:border-gray-600"};var Ct=(0,n.aZ)({__name:"SyncDataSourceModal",props:{visible:Boolean,currentDatasource:String},emits:["closeSyncDataSourceModal","refetchDataSources"],setup(e,{emit:t}){const a=e,r=((0,i.iH)(!1),(0,i.iH)(!1)),o=()=>{x(a.currentDatasource??""),r.value=!0};return(t,a)=>((0,n.wg)(),(0,n.iD)("div",{id:"sync-data-modal",tabindex:"-1","aria-hidden":"true",class:(0,P.C_)([{hidden:!e.visible},"bgblackopacitied absolute top-0 right-0 left-0 z-50 w-full md:inset-0 h-screen md:h-screen pt-20"])},[(0,n._)("div",ht,[(0,n._)("div",ft,[(0,n._)("div",yt,[vt,(0,n._)("button",{type:"button",onClick:a[0]||(a[0]=e=>t.$emit("closeSyncDataSourceModal")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"syncDataSourceModal"},kt)]),_t,(0,n._)("div",St,[(0,n._)("button",{"data-modal-toggle":"defaultModal",type:"button",onClick:a[1]||(a[1]=e=>o()),class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Sync "),(0,n._)("button",{"data-modal-toggle":"defaultModal",onClick:a[2]||(a[2]=e=>t.$emit("closeSyncDataSourceModal")),type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Close ")])])])],2))}});const Dt=Ct;var Pt=Dt;const Mt=e=>((0,n.dD)("data-v-32c398d4"),e=e(),(0,n.Cn)(),e),jt={class:"container mx-auto px-5 pt-10"},At={class:"mb-5 flex justify-between"},Ut=Mt((()=>(0,n._)("h2",{class:"text-2xl font-light"},"Data Sources",-1))),zt=(0,n.Uk)(" Add "),Ht={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Et={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},Ot=Mt((()=>(0,n._)("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[(0,n._)("tr",null,[(0,n._)("th",{scope:"col",class:"px-6 py-3"},"Name"),(0,n._)("th",{scope:"col",class:"px-6 py-3"},"URL"),(0,n._)("th",{scope:"col",class:"px-6 py-3"},"Actions")])],-1))),Tt={key:0},qt={scope:"row",class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},Rt={class:"px-6 py-4"},Wt={class:"px-6 py-4 flex"},Ft=["onClick"],It={href:"#",disabled:"",class:"disabled font-medium text-blue-600 dark:text-blue-500 hover:underline mr-2"},Zt=["onClick"];var Bt=(0,n.aZ)({__name:"DataSourcesPage",setup(e){const t=(0,i.iH)(!0),a=(0,n.Fl)((()=>D.getters["datasources/allDataSources"])),r=()=>{const e=[D.dispatch("datasources/fetchAll")];Promise.all(e).then((e=>{t.value=!1,Promise.resolve()}))},o=(0,i.iH)(),s=(0,i.iH)(!1),d=(0,i.iH)(!1),l=()=>{s.value=!s.value},u=(e=null)=>{o.value=e,d.value=!d.value},c=e=>{Ge().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&Promise.all([D.dispatch("datasources/delete",e)]).catch((e=>{Ge().fire("Error!","Something went wrong deleting the record","error")})).then((e=>{e&&(Ge().fire("Deleted!","Your file has been deleted.","success"),r())}))}))};return(0,n.bv)((()=>{r()})),(e,g)=>{const p=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",jt,[(0,n._)("div",At,[Ut,(0,n._)("button",{"data-modal-toggle":"defaultModal",onClick:g[0]||(g[0]=e=>l()),class:"px-4 py-2 outline-none border-2 border-blue-400 rounded text-blue-500 font-medium active:scale-95 hover:bg-blue-600 hover:text-white hover:border-transparent focus:bg-blue-600 focus:text-white focus:border-transparent focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 disabled:bg-gray-400/80 disabled:shadow-none disabled:cursor-not-allowed transition-colors duration-200"},[(0,n.Wm)(p,{icon:"fa-solid fa-plus"}),zt])]),(0,n._)("div",Ht,[(0,n._)("table",Et,[Ot,t.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("tbody",Tt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.datasource_name,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[(0,n._)("th",qt,(0,P.zw)(e.datasource_name),1),(0,n._)("td",Rt,(0,P.zw)(e.datasource_url),1),(0,n._)("td",Wt,[(0,n._)("button",{href:"#",onClick:t=>u(e.id),class:"font-medium text-blue-600 dark:text-blue-500 hover:underline mr-2"},[(0,n.Wm)(p,{icon:"fa-solid fa-rotate"})],8,Ft),(0,n._)("button",It,[(0,n.Wm)(p,{icon:"fa-solid fa-pen-to-square"})]),(0,n._)("button",{onClick:t=>c(e.id),class:"font-medium text-blue-600 dark:text-blue-500 hover:underline mr-2"},[(0,n.Wm)(p,{icon:"fa-solid fa-trash"})],8,Zt)])])))),128))]))])])]),(0,n.Wm)(mt,{visible:s.value,onCloseAddDataSourceModal:g[1]||(g[1]=e=>l()),onRefetchDataSources:g[2]||(g[2]=e=>r())},null,8,["visible"]),(0,n.Wm)(Pt,{"current-datasource":o.value,visible:d.value,onCloseSyncDataSourceModal:g[3]||(g[3]=e=>u())},null,8,["current-datasource","visible"])],64)}}}),Nt=a(89);const Yt=(0,Nt.Z)(Bt,[["__scopeId","data-v-32c398d4"]]);var $t=Yt;const Vt={class:"bg-gray-200"};var Gt=(0,n.aZ)({__name:"PageSelect",setup(e){const t=(0,n.Fl)((()=>D.getters["navigation/currentPage"]));return(e,a)=>((0,n.wg)(),(0,n.iD)("div",Vt,["products"===(0,i.SU)(t)?((0,n.wg)(),(0,n.j4)($e,{key:0})):(0,n.kq)("",!0),"datasources"===(0,i.SU)(t)?((0,n.wg)(),(0,n.j4)($t,{key:1})):(0,n.kq)("",!0)]))}});const Kt=Gt;var Jt=Kt;const Lt={key:1,class:"p-5"},Qt=(0,n._)("h2",{class:"font-bold"}," User is unauthorized, Please use the authentication button to continue. ",-1),Xt=[Qt];var ea=(0,n.aZ)({__name:"App",setup(e){const t=(0,i.iH)(!0),a=(0,n.Fl)((()=>D.getters["authorization/isAuthorized"]));return(0,n.bv)((()=>{const e=[D.dispatch("authorization/authorized")];Promise.all(e).then((()=>{t.value=!1,Promise.resolve()}))})),(e,o)=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(I),(0,i.SU)(a)?((0,n.wg)(),(0,n.j4)(Jt,{key:0})):((0,n.wg)(),(0,n.iD)("div",Lt,Xt))],512)),[[r.F8,!t.value]])}});const ta=ea;var aa=ta;o.vI.add(d.FDd,l.go9,l.$aW,l.Yai,l.r8p,l.cRF,l.jmi,l.NBC,l.EdJ,d.f8k,d.$9F,l.YyO),(0,r.ri)(aa).use(D).component("font-awesome-icon",s.GN).mount("#app")}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,s){if(!r){var d=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],s=e[u][2];for(var l=!0,n=0;n<r.length;n++)(!1&s||d>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[n])}))?r.splice(n--,1):(l=!1,s<d&&(d=s));if(l){e.splice(u--,1);var i=o();void 0!==i&&(t=i)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[r,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,d=r[0],l=r[1],n=r[2],i=0;if(d.some((function(t){return 0!==e[t]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(n)var u=n(a)}for(t&&t(r);i<d.length;i++)s=d[i],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(u)},r=self["webpackChunkproductimp"]=self["webpackChunkproductimp"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(6030)}));r=a.O(r)})();
//# sourceMappingURL=app.js.map