(function(){"use strict";var e={483:function(e,t,a){var r=a(9242),o=a(3396),s=a(4870),n=a(7139),l=a(6265),d=a.n(l);const u=()=>d().get(`${window.location.origin}/wp-json/productimp/v1/gatekeeper/authorized`).then((e=>401!==e.data.status)).catch((e=>(console.debug(e),!0)));var c={namespaced:!0,state:{authorized:!1},getters:{isAuthorized:e=>e.authorized},mutations:{SET_AUTHORIZED(e,t){e.authorized=t}},actions:{async authorized({commit:e}){const t=await u();return new Promise(((a,r)=>{e("SET_AUTHORIZED",t),a(t)}))}}},i={namespaced:!0,state:{page:"products"},getters:{currentPage:e=>e.page},mutations:{SET_PAGE(e,t){e.page=t}},actions:{setPage({commit:e},t){e("SET_PAGE",t)}}};const g=()=>d().get("https://boersma.dev/wp-json/productimp/v1/datasources/list").then((e=>(console.log("RECALL",e),e.data.data))).catch((e=>{console.debug(e)})),b=e=>d().post("https://boersma.dev/wp-json/productimp/v1/datasources/store",e).then((e=>!0));var p={namespaced:!0,state:{dataSources:[]},getters:{allDataSources:e=>e.dataSources},mutations:{SET_DATASOURCES(e,t){e.dataSources=t}},actions:{async fetchAll({commit:e}){const t=await g();return console.log(t),new Promise(((a,r)=>{e("SET_DATASOURCES",t),a(t)}))},async create({commit:e},t){return new Promise(((a,r)=>{const o=b(t);o||r(o);const s=g();e("SET_DATASOURCES",s),a(o)}))}}},m=new n.ZP.Store({modules:{authorization:c,navigation:i,datasources:p},actions:{},mutations:{}}),h=a(2268);const f={class:"bg-gray-800"},x={class:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8"},v={class:"relative flex items-center justify-between h-16"},y=(0,o.uE)('<div class="absolute inset-y-0 left-0 flex items-center sm:hidden"><button type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" aria-controls="mobile-menu" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path></svg><svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>',1),w=(0,o._)("div",{class:"flex-shrink-0 flex items-center"},[(0,o._)("h2",{class:"font-bold text-white"},"ProductImp")],-1),_={class:"hidden sm:block sm:ml-6"},k={key:0,class:"flex space-x-4"},S={key:1},D=["href"],A=(0,o._)("div",{class:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},null,-1),P=(0,o._)("div",{class:"sm:hidden",id:"mobile-menu"},[(0,o._)("div",{class:"px-2 pt-2 pb-3 space-y-1"},[(0,o._)("a",{href:"#",class:"bg-gray-900 text-white block px-3 py-2 rounded-md text-base font-medium","aria-current":"page"},"Products"),(0,o._)("a",{href:"#",class:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium"},"Datasources")])],-1);var U=(0,o.aZ)({__name:"NavigationBar",setup(e){const t=(0,o.Fl)((()=>m.getters["navigation/currentPage"])),a=(0,o.Fl)((()=>m.getters["authorization/isAuthorized"])),r=(0,o.Fl)((()=>`${window.location.origin}/wp-json/productimp/v1/gatekeeper/generate`));return(e,n)=>((0,o.wg)(),(0,o.iD)("nav",f,[(0,o._)("div",x,[(0,o._)("div",v,[y,(0,o._)("div",{class:(0,h.C_)(["flex-1 flex items-center justify-center sm:items-stretch",{"sm:place-content-between":!(0,s.SU)(a),"sm:justify-start":(0,s.SU)(a)}])},[w,(0,o._)("div",_,[(0,s.SU)(a)?((0,o.wg)(),(0,o.iD)("div",k,[(0,o._)("button",{onClick:n[0]||(n[0]=e=>(0,s.SU)(m).dispatch("navigation/setPage","products")),class:(0,h.C_)([["products"===(0,s.SU)(t)?["bg-gray-900","text-white"]:["hover:bg-gray-700","hover:text-white"]],"text-gray-300 px-3 py-2 rounded-md text-sm font-medium"]),"aria-current":"page"}," Products ",2),(0,o._)("button",{onClick:n[1]||(n[1]=e=>(0,s.SU)(m).dispatch("navigation/setPage","datasources")),class:(0,h.C_)([["datasources"===(0,s.SU)(t)?["bg-gray-900","text-white"]:["hover:bg-gray-700","hover:text-white"]],"text-gray-300 px-3 py-2 rounded-md text-sm font-medium"])}," Datasources ",2)])):((0,o.wg)(),(0,o.iD)("div",S,[(0,o._)("a",{href:(0,s.SU)(r),class:"px-4 py-2 outline-none border-2 border-red-400 rounded text-red-500 font-medium active:scale-95 hover:bg-red-600 hover:text-white hover:border-transparent focus:bg-red-600 focus:text-white focus:border-transparent focus:ring-2 focus:ring-red-600 focus:ring-offset-2 disabled:bg-gray-400/80 disabled:shadow-none disabled:cursor-not-allowed transition-colors duration-200"}," Authorize ",8,D)]))])],2),A])]),P]))}});const j=U;var C=j;const E={class:"container mx-auto px-5 pt-10"},z=(0,o.uE)('<div class="mb-5 flex justify-between"><h2 class="text-2xl font-light">Products</h2><button class="px-4 py-2 outline-none border-2 border-blue-400 rounded text-blue-500 font-medium active:scale-95 hover:bg-blue-600 hover:text-white hover:border-transparent focus:bg-blue-600 focus:text-white focus:border-transparent focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 disabled:bg-gray-400/80 disabled:shadow-none disabled:cursor-not-allowed transition-colors duration-200"> Add </button></div><div class="relative overflow-x-auto shadow-md sm:rounded-lg"><table class="w-full text-sm text-left text-gray-500 dark:text-gray-400"><thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"><tr><th scope="col" class="px-6 py-3">Images</th><th scope="col" class="px-6 py-3">Name</th><th scope="col" class="px-6 py-3">EAN Code</th><th scope="col" class="px-6 py-3">Status</th><th class="table_heading">Synced</th><th scope="col" class="px-6 py-3"><span class="sr-only">Edit</span></th></tr></thead></table></div>',2),M=[z];function O(e,t){return(0,o.wg)(),(0,o.iD)("div",E,M)}var T=a(89);const H={},R=(0,T.Z)(H,[["render",O]]);var Z=R;const F={class:"mx-auto p-4 w-full max-w-2xl h-full md:h-auto"},q={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},L={class:"flex justify-between items-start p-4 rounded-t border-b dark:border-gray-600"},N=(0,o._)("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Add Data Source ",-1),B=(0,o.Uk)(" x "),I=(0,o._)("span",{class:"sr-only"},"Close modal",-1),V=[B,I],$={class:"p-6 space-y-6"},W={class:"mb-6"},G=(0,o._)("label",{for:"datasource_name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Name ",-1),Y={class:"mb-6"},K=(0,o._)("label",{for:"datasource_url",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"URL",-1),J={class:"flex justify-between"},Q={class:"mb-6"},X=(0,o._)("label",{for:"datasource_username",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Username",-1),ee={class:"mb-6"},te=(0,o._)("label",{for:"datasource_password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Password",-1),ae={class:"flex items-center p-6 space-x-2 rounded-b border-t border-gray-200 dark:border-gray-600"};var re=(0,o.aZ)({__name:"AddDataSourceModal",props:{visible:Boolean},emits:["closeAddDataSourceModal","refetchDataSources"],setup(e,{emit:t}){(0,s.iH)(!1);const a=(0,s.iH)({datasource_name:null,datasource_url:null,datasource_credentials:{username:null,password:null}}),n=()=>{m.dispatch("datasources/create",a.value),a.value={datasource_name:null,datasource_url:null,datasource_credentials:{username:null,password:null}},t("refetchDataSources"),t("closeAddDataSourceModal")};return(t,s)=>((0,o.wg)(),(0,o.iD)("div",{id:"defaultModal",tabindex:"-1","aria-hidden":"true",class:(0,h.C_)([{hidden:!e.visible},"bgblackopacitied absolute top-0 right-0 left-0 z-50 w-full md:inset-0 h-screen md:h-screen pt-20"])},[(0,o._)("div",F,[(0,o._)("div",q,[(0,o._)("div",L,[N,(0,o._)("button",{type:"button",onClick:s[0]||(s[0]=e=>t.$emit("closeAddDataSourceModal")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"defaultModal"},V)]),(0,o._)("div",$,[(0,o._)("form",null,[(0,o._)("div",W,[G,(0,o.wy)((0,o._)("input",{type:"text",id:"datasource_name","onUpdate:modelValue":s[1]||(s[1]=e=>a.value.datasource_name=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"De Eekhoorn",required:""},null,512),[[r.nr,a.value.datasource_name]])]),(0,o._)("div",Y,[K,(0,o.wy)((0,o._)("input",{type:"text",id:"datasource_url",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"https://www.google.nl/","onUpdate:modelValue":s[2]||(s[2]=e=>a.value.datasource_url=e),required:""},null,512),[[r.nr,a.value.datasource_url]])]),(0,o._)("div",J,[(0,o._)("div",Q,[X,(0,o.wy)((0,o._)("input",{type:"text",id:"datasource_username",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-max p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500","onUpdate:modelValue":s[3]||(s[3]=e=>a.value.datasource_credentials.username=e),placeholder:"johndoe@gmail.com",required:""},null,512),[[r.nr,a.value.datasource_credentials.username]])]),(0,o._)("div",ee,[te,(0,o.wy)((0,o._)("input",{type:"password",id:"datasource_password","onUpdate:modelValue":s[4]||(s[4]=e=>a.value.datasource_credentials.password=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-max p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[r.nr,a.value.datasource_credentials.password]])])])])]),(0,o._)("div",ae,[(0,o._)("button",{"data-modal-toggle":"defaultModal",type:"button",onClick:s[5]||(s[5]=e=>n()),class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Save "),(0,o._)("button",{"data-modal-toggle":"defaultModal",onClick:s[6]||(s[6]=e=>t.$emit("closeAddDataSourceModal")),type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Cancel ")])])])],2))}});const oe=re;var se=oe;const ne={class:"container mx-auto px-5 pt-10"},le={class:"mb-5 flex justify-between"},de=(0,o._)("h2",{class:"text-2xl font-light"},"Data Sources",-1),ue={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},ce={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},ie=(0,o._)("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[(0,o._)("tr",null,[(0,o._)("th",{scope:"col",class:"px-6 py-3"},"Name"),(0,o._)("th",{scope:"col",class:"px-6 py-3"},"URL"),(0,o._)("th",{scope:"col",class:"px-6 py-3"},"Private"),(0,o._)("th",{scope:"col",class:"px-6 py-3"},[(0,o._)("span",{class:"sr-only"},"Edit")])])],-1),ge={key:0},be={scope:"row",class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},pe={class:"px-6 py-4"},me=(0,o._)("td",{class:"px-6 py-4"},"true",-1),he=(0,o._)("td",{class:"px-6 py-4 text-right"},[(0,o._)("button",{href:"#",class:"font-medium text-blue-600 dark:text-blue-500 hover:underline"}," edit ")],-1);var fe=(0,o.aZ)({__name:"DataSourcesPage",setup(e){const t=(0,o.Fl)((()=>m.getters["datasources/allDataSources"])),a=(0,s.iH)(!0),r=(0,s.iH)(!1),n=()=>{a.value=!0;const e=[m.dispatch("datasources/fetchAll")];Promise.all(e).then((e=>{a.value=!1,Promise.resolve()}))},l=()=>{r.value=!r.value};return(0,o.bv)((()=>{n()})),(e,d)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",ne,[(0,o._)("div",le,[de,(0,o._)("button",{"data-modal-toggle":"defaultModal",onClick:d[0]||(d[0]=e=>l()),class:"px-4 py-2 outline-none border-2 border-blue-400 rounded text-blue-500 font-medium active:scale-95 hover:bg-blue-600 hover:text-white hover:border-transparent focus:bg-blue-600 focus:text-white focus:border-transparent focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 disabled:bg-gray-400/80 disabled:shadow-none disabled:cursor-not-allowed transition-colors duration-200"}," Add ")]),(0,o._)("div",ue,[(0,o._)("table",ce,[ie,a.value?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("tbody",ge,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,s.SU)(t),(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.datasource_name,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[(0,o._)("th",be,(0,h.zw)(e.datasource_name),1),(0,o._)("td",pe,(0,h.zw)(e.datasource_url),1),me,he])))),128))]))])])]),(0,o.Wm)(se,{visible:r.value,onCloseAddDataSourceModal:d[1]||(d[1]=e=>l()),onRefetchDataSources:d[2]||(d[2]=e=>n())},null,8,["visible"])],64))}});const xe=fe;var ve=xe;const ye={class:"bg-gray-200"};var we=(0,o.aZ)({__name:"PageSelect",setup(e){const t=(0,o.Fl)((()=>m.getters["navigation/currentPage"]));return(e,a)=>((0,o.wg)(),(0,o.iD)("div",ye,["products"===(0,s.SU)(t)?((0,o.wg)(),(0,o.j4)(Z,{key:0})):(0,o.kq)("",!0),"datasources"===(0,s.SU)(t)?((0,o.wg)(),(0,o.j4)(ve,{key:1})):(0,o.kq)("",!0)]))}});const _e=we;var ke=_e,Se=(0,o.aZ)({__name:"App",setup(e){const t=(0,s.iH)(!0);(0,o.Fl)((()=>m.getters["authorization/isAuthorized"]));return(0,o.bv)((()=>{const e=[m.dispatch("authorization/authorized")];Promise.all(e).then((()=>{t.value=!1,Promise.resolve()}))})),(e,a)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(C),(0,o.Wm)(ke)],512)),[[r.F8,!t.value]])}});const De=Se;var Ae=De;(0,r.ri)(Ae).use(m).mount("#app")}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,s){if(!r){var n=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],s=e[c][2];for(var l=!0,d=0;d<r.length;d++)(!1&s||n>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[d])}))?r.splice(d--,1):(l=!1,s<n&&(n=s));if(l){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[r,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,n=r[0],l=r[1],d=r[2],u=0;if(n.some((function(t){return 0!==e[t]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(d)var c=d(a)}for(t&&t(r);u<n.length;u++)s=n[u],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},r=self["webpackChunkproductimp"]=self["webpackChunkproductimp"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(483)}));r=a.O(r)})();
//# sourceMappingURL=app.js.map